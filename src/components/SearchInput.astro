---
let message = "Hello, Astro";
---

<script>
  class SearchInput extends HTMLElement {
    constructor() {
      super();

      const searchInput = this.querySelector(".inputBox") as HTMLInputElement;

      searchInput.addEventListener("keypress", (event: KeyboardEvent) => {
        if (event.key === "Enter" && searchInput.value) {
          window.open(`/search_results/${searchInput.value}`, "_self");
          searchInput.value = "";
        }
      });
    }
  }

  customElements.define("search-input", SearchInput);
</script>

<search-input
  data-message={message}
  class="flex justify-center items-center h-20 md:h-30 bg-gradient-to-tr from-green-500 to-purple-600 rounded-md mt-4 relative px-4 lg:w-6/12 mx-auto"
>
  <input
    aria-label="search-input"
    type="search"
    value=""
    name="search"
    placeholder="Enter a search term"
    class="inputBox px-4 h-12 lg:h-14 rounded-md text-zinc-100 text-sm lg:text-base focus:outline-none focus:ring-2 focus:ring-purple-500 bg-zinc-900 w-full border border-stone-700"
  />
</search-input>
